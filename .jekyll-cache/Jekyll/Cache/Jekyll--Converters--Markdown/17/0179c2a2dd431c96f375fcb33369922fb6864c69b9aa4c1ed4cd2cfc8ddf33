I"¸<hr />
<h3 id="airflow-on-docker">Airflow on Docker</h3>
<ul>
  <li>Dockerì„ í†µí•œ Apache Airflow ì„¤ì¹˜</li>
</ul>

<hr />

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># make folder and cd</span>
<span class="nb">mkdir </span>airflow-docker
<span class="nb">cd </span>airflow-docker

<span class="c"># docker-compose.yaml file download(check version)</span>
curl <span class="nt">-LfO</span> <span class="s1">'https://airflow.apache.org/docs/apache-airflow/2.1.4/docker-compose.yaml'</span>

<span class="c"># make folders for dags &amp; plugins &amp; logs</span>
<span class="nb">mkdir</span> ./dags ./plugins ./logs

<span class="c"># On Linux &amp; Mac OS, the quick-start needs to know your host user id and needs to have group id set to 0</span>
<span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"AIRFLOW_UID=</span><span class="si">$(</span><span class="nb">id</span> <span class="nt">-u</span><span class="si">)</span><span class="se">\n</span><span class="s2">AIRFLOW_GID=0"</span> <span class="o">&gt;</span> .env

<span class="c"># .env íŒŒì¼ * íŒŒì¼ ì•ˆì˜ ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš© ìƒê¹€</span>
<span class="c"># AIRFLOW_UID=501</span>
<span class="c"># AIRFLOW_GID=0</span>

<span class="c"># run database migrations and create the first user account</span>
docker-compose up airflow-init

<span class="c"># cf. airflow-dockerì€ requires at least 4GB memory</span>
<span class="c"># ì˜ ì„¤ì¹˜ëœ ê²½ìš° ì•„ë˜ì™€ ê°™ì€ msg ë‚˜ì˜´ </span>
<span class="c"># airflow-init_1       | 2.1.4</span>
<span class="c"># airflow-docker_airflow-init_1 exited with code 0</span>

<span class="c"># run airflow</span>
docker-compose up

<span class="c"># end airflow</span>
docker-compose down
</code></pre></div></div>

<h3 id="ref">ref</h3>
<ul>
  <li>https://airflow.apache.org/docs/apache-airflow/2.1.4/start/docker.html</li>
  <li>https://jybaek.tistory.com/922</li>
</ul>
:ET