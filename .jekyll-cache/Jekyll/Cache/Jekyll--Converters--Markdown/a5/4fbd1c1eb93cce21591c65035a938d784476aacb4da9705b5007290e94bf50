I"À
<hr />
<h3 id="docker-persistent-data">Docker Persistent Data</h3>
<ul>
  <li>containers are usually immutable(unchangeable) &amp; ephemeral(temporary)</li>
  <li>which means that containers should never change when containers are re-deployed</li>
  <li>then the problem arises for unique data like databases</li>
  <li>these unique data are called persistent data</li>
  <li><strong>Data Volumes</strong> &amp; <strong>Bind Mounts</strong> is used to solve the problem</li>
  <li><strong>Data Volumes</strong> - configuration option that creates a special locations outside the containerâ€™s union file system to store unique data</li>
  <li><strong>Bind Mounts</strong> - sharing or mounting a host directory or file into a container</li>
</ul>

<hr />

<h3 id="data-volumes">Data Volumes</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># pull mysql image </span>
docker image pull mysql:latest

<span class="c"># run container</span>
docker container run <span class="nt">-d</span> <span class="nt">--name</span> mysql_test <span class="nt">-e</span> <span class="nv">MYSQL_ALLOW_EMPTY_PASSWORD</span><span class="o">=</span><span class="nb">true </span>mysql:latest

<span class="c"># mysql_test containerì˜ ì„¤ì • ë¶€ë¶„, ì„¤ì • ì¤‘ volumeì„ í™•ì¸</span>
docker container inspect mysql_test
<span class="c"># destination - containerê°€ ë°ì´í„°ë¥¼ ì ì¬í•œë‹¤ê³  ìƒê°í•˜ëŠ” ê³³</span>
<span class="c"># source - ì‹¤ì œ ë°ì´í„°ê°€ ì ëŒ€ë˜ì–´ ìˆëŠ” ê³³</span>

<span class="c"># docker containerë¥¼ í†µí•´ ë§Œë“  ëª¨ë“  ë°ì´í„°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŒ, ì´ volumeì€ containerê°€ ì‚­ì œë˜ì–´ë„ ë‚¨ì•„ ìˆìŒ</span>
docker volume <span class="nb">ls</span>

<span class="c"># í•˜ì§€ë§Œ volumeì´ ì–´ë–¤ volumeì¸ì§€ ë¶„ê°„í•˜ê¸°ê°€ ì–´ë µê¸°ì— containerì„ runí•  ë•Œ volumeì— nameì„ ì£¼ëŠ” ê²ƒì´ ì¢‹ìŒ</span>
docker container run <span class="nt">-d</span> <span class="nt">--name</span> mysql_test1 <span class="nt">-e</span> <span class="nv">MYSQL_ALLOW_EMPTY_PASSWORD</span><span class="o">=</span><span class="nb">true</span> <span class="nt">-v</span> mysql-db:/var/lib/mysql mysql:latest

<span class="c"># mysql_test2ë„ mysql_test1ê³¼ ê°™ì€ dbë¥¼ ì‚¬ìš©</span>
docker container run <span class="nt">-d</span> <span class="nt">--name</span> mysql_test2 <span class="nt">-e</span> <span class="nv">MYSQL_ALLOW_EMPTY_PASSWORD</span><span class="o">=</span><span class="nb">true</span> <span class="nt">-v</span> mysql-db:/var/lib/mysql mysql:latest
</code></pre></div></div>
<hr />

<h3 id="bind-mounts">Bind Mounts</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div>
<hr />
:ET